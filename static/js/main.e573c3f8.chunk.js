(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{22:function(e,t,a){e.exports=a(36)},27:function(e,t,a){},30:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(18),i=a.n(c),u=(a(27),a(12)),l=a(2),o=a.n(l),s=a(6),m=a(5),d=a(9),p=a(8);a(29),a(30);function f(e){e.pickCity;return n.a.createElement("div",null,n.a.createElement("nav",{className:"navbar navbar-light bg-dark rounded-bottom"},n.a.createElement(d.b,{to:"/"},n.a.createElement("button",{className:"btn btn-primary"},"Home")),n.a.createElement(d.b,{to:"/favorites"},n.a.createElement("button",{className:"btn btn-primary"},"Favorites"))))}var v="bAi958lyF2zSL1IevwWt6JHXKumB0AMl",b="https://dataservice.accuweather.com";function h(e){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/locations/v1/cities/autocomplete?q=").concat(t,"&apikey=").concat(v));case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:return alert("Could not load data from AccuWeather"),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return k.apply(this,arguments)}function k(){return(k=Object(s.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/forecasts/v1/daily/5day/").concat(t,"?metric=true&apikey=").concat(v));case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:return alert("Could not load data from AccuWeather"),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/currentconditions/v1/").concat(t,"?apikey=").concat(v));case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r[0]);case 8:return alert("Could not load data from AccuWeather"),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t,a=e.pickCity,c=(e.apiKey,e.apiHost,Object(r.useState)("Tel Aviv")),i=Object(m.a)(c,2),u=i[0],l=i[1],d=Object(r.useState)([]),p=Object(m.a)(d,2),f=p[0],v=p[1],b=function(){var e=Object(s.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.replace(/[^a-zA-Z ]/g,""))!==u){e.next=3;break}return e.abrupt("return");case 3:if(l(r),r){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,h(r);case 8:1===(n=e.sent).length?(v([]),a(n[0].Key,n[0].LocalizedName)):v(n.map((function(e){return{key:e.Key,name:e.LocalizedName}})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return f.length&&(t=n.a.createElement("div",{className:"border border-dark rounded"},f.map((function(e){return n.a.createElement("div",{key:e.key},n.a.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),v([]),a(e.key,e.name)}},e.name))})))),n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("input",{placeholder:"search..",value:u,onChange:function(e){b(e.target.value)}}),t))}function N(e){var t=e.pickCity,a=(e.currentDate,e.currentTemp),c=e.fiveDays,i=(e.cityKey,e.favorites),u=e.toggleFavorites;Object(r.useEffect)((function(){t(a.key,a.cityName)}),[]);var l="add to favorites";return i.find((function(e){return e.city===a.cityName}))&&(l="remove from favorites"),n.a.createElement("div",null,n.a.createElement("div",{className:"pt-4 d-flex justify-content-center"},n.a.createElement(w,{pickCity:t})),n.a.createElement("p",null),n.a.createElement("div",{className:"border border-info p-1 rounded"},n.a.createElement("div",null,n.a.createElement("h3",null,n.a.createElement("img",{alt:a.details,src:a.icon})," ",a.cityName,n.a.createElement("button",{onClick:function(){u(a)},className:"btn btn-success add-to-favorites"},l))," "),n.a.createElement("div",null,n.a.createElement("h6",null," ",a.temperature),n.a.createElement("br",null)),n.a.createElement("br",null),n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("h1",null,a.details)),n.a.createElement("div",{className:"row d-flex justify-content-center mt-5 weather-home-dates"},n.a.createElement("ul",{className:"list-group list-group-horizontal-md col-md col-3 ml-3 d-flex justify-content-center ",style:{textAlign:"center"}},[c.map((function(e){return n.a.createElement("div",{key:e.date.toString()},n.a.createElement("div",{className:"card bg-primary mt-4 ml-3"},n.a.createElement("h5",{className:"card-header"},e.date.toString()),n.a.createElement("div",{className:"card-body "},n.a.createElement("h4",{className:"card-title"},e.weather,"\xb0"))))}))]))))}var g=a(21);function O(e){var t=e.favorites,a=e.pickCity,c=Object(r.useState)([]),i=Object(m.a)(c,2),u=i[0],l=i[1],p=Object(r.useState)(!1),f=Object(m.a)(p,2),v=f[0],b=f[1],h=function(){var e=Object(s.a)(o.a.mark((function e(){var a,r,n,c,i,u,s,m,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],r=!0,n=!1,c=void 0,e.prev=4,i=t[Symbol.iterator]();case 6:if(r=(u=i.next()).done){e.next=19;break}return s=u.value,e.next=10,x(s.key);case 10:if(m=e.sent){e.next=14;break}return b(!0),e.abrupt("continue",16);case 14:d=m.Temperature.Metric.Value+"\xb0"+m.Temperature.Metric.Unit,a.push(Object(g.a)({},s,{temperature:d,details:m.WeatherText}));case 16:r=!0,e.next=6;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),n=!0,c=e.t0;case 25:e.prev=25,e.prev=26,r||null==i.return||i.return();case 28:if(e.prev=28,!n){e.next=31;break}throw c;case 31:return e.finish(28);case 32:return e.finish(25);case 33:l(a);case 34:case"end":return e.stop()}}),e,null,[[4,21,25,33],[26,,28,32]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){h()}),[]),n.a.createElement("div",null,v&&"Could not load weather data, please refresh and try again later",n.a.createElement("ul",{className:"list-group list-group-horizontal-md col-md col-3 ml-3 d-flex justify-content-center mt-5"},u.map((function(e){return n.a.createElement(d.b,{to:"/",className:"regular-text"},n.a.createElement("div",null,n.a.createElement("div",{className:"card bg-success ml-3 ",style:{width:"190px"},onClick:function(){return a(e.key,e.city)}},n.a.createElement("h5",{className:"card-header"},e.city),n.a.createElement("div",{className:"card-body "},n.a.createElement("h4",{className:"card-title"}," ",e.temperature),n.a.createElement("h5",{className:"card-text"},e.details," ")))))}))))}var C=function(){var e=new Date,t=Object(r.useState)([]),a=Object(m.a)(t,2),c=a[0],i=a[1],l=Object(r.useState)({key:215854,cityName:"Tel Aviv",details:"",temperature:""}),v=Object(m.a)(l,2),b=v[0],h=v[1],y=Object(r.useState)(!1),k=Object(m.a)(y,2),j=k[0],w=k[1],g=function(){var e=Object(s.a)(o.a.mark((function e(t,a){var r,n,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:return(r=e.sent)||w(!0),h({key:t,cityName:a,details:r.WeatherText,icon:"https://developer.accuweather.com/sites/default/files/".concat(String(r.WeatherIcon).padStart(2,"0"),"-s.png"),temperature:r.Temperature.Metric.Value+"\xb0"+r.Temperature.Metric.Unit}),e.next=7,E(t);case 7:n=e.sent,c=new Intl.DateTimeFormat("en-US",{weekday:"short",timeZone:"UTC"}),u=n.DailyForecasts.map((function(e){return{weather:Math.floor((e.Temperature.Minimum.Value+e.Temperature.Maximum.Value)/2),date:c.format(new Date(1e3*e.EpochDate))}})),i(u);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),C=Object(r.useState)([]),S=Object(m.a)(C,2),T=S[0],D=S[1];return n.a.createElement("div",{className:"container-md fluid "},j&&"Could not load weather data, please refresh and try again later",n.a.createElement(d.a,null,n.a.createElement(f,null),n.a.createElement(p.c,null,n.a.createElement(p.a,{exact:!0,path:"/"},n.a.createElement("div",{className:"justify-center"},n.a.createElement(N,{fiveDays:c,currentTemp:b,currentDate:e,pickCity:g,setFavorites:D,favorites:T,toggleFavorites:function(e){var t=e.cityName,a=e.key,r=T.findIndex((function(e){return e.city===b.cityName}));if(-1!==r){var n=Object(u.a)(T);return n.splice(r,1),void D(Object(u.a)(n))}D([].concat(Object(u.a)(T),[{city:t,key:a}]))}}))),n.a.createElement(p.a,{exact:!0,path:"/favorites"},n.a.createElement(O,{favorites:T,pickCity:g})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.e573c3f8.chunk.js.map